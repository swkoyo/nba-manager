# Running Locally

## Requirements

-   Node
-   [Bun](https://bun.sh/)
-   [Turso CLI](https://docs.turso.tech/cli/introduction)

## Starting local turso DB

Run the command below to start a local database

```bash
turso dev --db-file local.db
```

## Setting up env

Copy the `.env.example` to a new file `.env.local`. Set the two values to:

-   `TURSO_DATABASE_URL`="http://127.0.0.1:8080"
-   `TURSO_AUTH_TOKEN`=""

## Run initial migrations and seed

```bash
// Run migration to create db tables
bun run ./src/lib/db/migration.ts

// Run seeder to populate db
bun run ./src/lib/db/seed.ts
```

## Start the app

```bash
// Start the nextjs app locally
npm run dev
```

This is a [Next.js](https://nextjs.org/) project bootstrapped with [`create-next-app`](https://github.com/vercel/next.js/tree/canary/packages/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/basic-features/font-optimization) to automatically optimize and load Inter, a custom Google Font.

## Learn More

To learn more about Next.js, take a look at the following resources:

-   [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
-   [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js/) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/deployment) for more details.

# Citations

Our application is primarly original work, but we did use the following resources to help guide our development:

-   [Next.js Documentation](https://nextjs.org/docs)
-   [Mantine Documentation](https://mantine.dev/getting-started)
-   [Turso Documentation](https://docs.turso.tech/sdk/introduction)
-   [SWR Documentation](https://swr.vercel.app/docs/getting-started)

## `Next.js`

This application is built using Next.js and its documentation was used to guide the development of the application.
This application's boilerplate was generated using Next.js's `create-next-app` command.

### Files Affected

#### `tsconfig.json`

This is the configuration file for TypeScript. It is used to specify the root files and the compiler options required to build the project. This was generated by Next.js.

#### `next-env.d.ts`

This is a TypeScript declaration file that is used to specify the types for the Next.js environment. This was generated by Next.js.

#### `package.json`

This is the configuration file for the project. It specifies the dependencies and scripts required to run the project. This was generated by Next.js.

#### `eslintrc.json`

This is the configuration file for ESLint. It specifies the rules and plugins required to lint the project. This was generated by Next.js.

#### `src/app/layout.tsx`

This is the root layout component for the application. It wraps the entire application and provides a consistent layout for all pages. This was initially generated by Next.js.
The root layout component is essentially the entrypoint for a Next.js application. It wraps the entire application and provides a consistent layout for all pages.

-   Scope: The RootLayout component
-   Originality: Adapted from Next.js
-   Date: 03/17/2024
-   Sources:
    -   [Next.js Documentation](https://nextjs.org/docs/getting-started-installation)

#### `src/app/actions.ts`

This a file we created to store the actions that can be dispatched by the application. It contains the redirect action which is used to redirect the user to a different page throughour the application.

-   Scope: `redirect` function
-   Originality: Adapted from Next.js
-   Date: 03/18/2024
-   Source: [Next.js Documentation](https://nextjs.org/docs/api-reference/next/navigation/redirect)

#### `src/app/*/layout.tsx`

All of the layout components in the application use a component `Suspend` that allows us to specify a loading state to show while the wrapped component is retrieved from the server.
This is to ensure that the user is not presented with a blank screen while the component is being fetched.
Our use of this component is based on the documentation provided by Next.js.

-   Scope: `Suspend` component
-   Originality: Based on documentation provided by Next.js
-   Date: 03/18/2024
-   Source: [Next.js Documentation](https://nextjs.org/docs/app/building-your-application/routing/loading-ui-and-streaming)

## `Mantine`

This application's styling is built using Mantine. Mantine is a React component library that provides a set of high-quality components and hooks for building user interfaces.

### Files Affected

#### `src/app/layout.tsx`

Mantine requires us to wrap the entire application in a `MantineProvider` component. This component provides the theme and the default styles for the application.

-   Scope: `MantineProvider` component
-   Originality: Adapted from Mantine
-   Date: 03/18/2024
-   Source: [Mantine Documentation](https://mantine.dev/getting-started)

## `Turso`

This application uses Turso to manage the database. Turso is a lightweight, open-source database that is designed to be easy to use and to integrate with other applications.
Turso uses libsql as its relational database management system.

### Files Affected

#### `src/lib/db/turso.ts`

Our database client is created using the libsql library. The libsql client is used to create a new client for the Turso database.
This is based on the documentation provided by Turso.

-   Scope: `createClient` function
-   Originality: Adapted from Turso
-   Date: 03/18/2024
-   Source: [Turso Documentation](https://docs.turso.tech/sdk/ts/quickstart)

## `SWR`

This application uses SWR to fetch data from the server. SWR is a React hook for data fetching that makes it easy to fetch, cache, and update data in the application.

### Files Affected

#### `src/lib/fetcher.ts`

The functions in this file are used to fetch data from the server via the fetch API.
We abstracted these functions to standardize error handling and return types when fetching data.
This is based on the documentation provided by SWR.

-   Scope: All functions in this file
-   Originality: Adapted from SWR documentation
-   Date: 03/18/2024
-   Source: [SWR Documentation](https://swr.vercel.app/docs/data-fetching)

#### `src/app/swr.ts`

The functions in this file are used to fetch data from the server using the SWR library. These functions are used to fetch data from a reusable hook and cache results.
We abstracted this out to have one place to manage all the SWR hooks in the application.
All data-fetching related actions in the application use these functions.

-   Scope: All functions in this file
-   Originality: Adapted from SWR documentation
-   Date: 03/18/2024
-   Source: [SWR Documentation](https://swr.vercel.app/docs/data-fetching)
